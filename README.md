# My NixOS Configuration

https://github.com/user-attachments/assets/d11e9823-eb62-470c-9f0d-cb175bb60cbc

- Wallpaper: [The Herta by meirong](https://www.pixiv.net/artworks/126270092)

## Overview
> The entry point for *most* of the dots are [here](users/dots). For certain
> programs, the colors are injected either directly from matugen or by nix using
> the generated matugen `theme.json`.

> For nix users new to [hjem](https://github.com/feel-co/hjem),
> the entry point for planting my dotfiles in place is [here](users/rexies.nix).

- Graphical Shell + Bar: [Quickshell](https://quickshell.outfoxxed.me/) [config](users/dots/quickshell/kurukurubar)
- Compositor: [Hyprland](https://hyprland.org/) [config](users/dots/hyprland/)
- App Launcher: [Fuzzel](https://codeberg.org/dnkl/fuzzel) [config](users/dots/fuzzel/fuzzel.ini) (planned reimplementation in quickshell)
- Colors: [Matugen](https://github.com/InioX/matugen) [templates](nixosModules/external/matugen/templates/)
- Terminal: [Foot](https://codeberg.org/dnkl/foot) [config](users/dots/foot/foot.ini)
- Wallpaper collection: generated by [booru-flake](https://github.com/Rexcrazy804/booru-flake) [here](nixosModules/programs/booru-flake/preview.md)
- Cursor: [Kokomi Cursor](https://www.pling.com/p/2167734/)



## What have you done?
Initially, I had ditched home-manager for wrapping programs myself.

This worked quite well in my favour, except for the following grievances:
- Nushell was bugging the heck out inconsistently for remote sessions (ssh)
- I had to log out and back in to have hyprland reload its config
- And the last and final straw that pushed me to [hjem](https://github.com/feel-co/hjem) was [matugen](https://github.com/InioX/matugen)

It was a pain to integrate matugen seamlessly into this, so I decided to just
switch over parts of my config that required matugen to use Hjem. I may or
may not translate all the wrappers that I am using currently into plain ol'
hjem configs, but that's for later.

At its current, the hjem + matugen configuration is only able to work with a
single wallpaper; therefore, it is locked to a single user configuration. I am
sure I can extend it to support multiple users, but as of now, I don't have
the need to do so yet.

> **15th March 2025**<br>
> Newer configs will live in `users/dots` with their
> supporting matugen templates in `nixosModules/external/matugen/templates`

> **14th June 2025**<br>
> Wrappers have been removed completely. Packages that
> continue to be wrapped can be found in [`pkgs/`](pkgs/)

## Exported packages
The following packages are exported by this flake:

- `nixvim` My custom neovim configuration wrapped using the builtin neovim-unstable wrapper, heavily inspired by [sioodmy](https://github.com/sioodmy) (notably with the inclusion of lazy loading featuring [lz.n](https://github.com/nvim-neorocks/lz.n)).
- `quickshell` My quickshell configuration, specifically kurukurubar
- `kokCursor` A cute kokomi XCursor
- `mpv` My mpv configuration with anime4k shaders baked in

you may run any of the above with the following command (ofc you can't run a
cursor, `nix build` it instead) replacing `nixvim` with your desired package
```bash
nix run github:Rexcrazy804/Zaphkiel#nixvim
```

## Credits & Thanks
Firstly, I have to thank [sioodmy](https://github.com/sioodmy) for being the
inspiration to ditch home manager and writing wrappers myself. I had known of
wrappers before, but if it weren't for him, I wouldn't have heard of
`pkgs.symlinkJoin` :D

I also extend my gratitude to [NotAShelf](https://github.com/NotAShelf) for
being the inspiration for this readme and for developing the hjem nixos
module.

I have to thank both the AnAnimeGameLauncher and Hyprland discord communities
for all the help I've received and continue to receive.

Lastly, I have to thank the nix community for their efforts in
[home-manager](https://github.com/nix-community/home-manager) and
[nixvim](https://github.com/nix-community/nixvim). Both of which have been great
resources throughout my early adventures in nix.

### References and Thanks for Quickshell config
- [nydragon/nysh](https://github.com/nydragon/nysh)
- [end-4/dots-hyprland](https://github.com/end-4/dots-hyprland/tree/ii-qs/.config/quickshell)
- [pikabar](https://git.pika-os.com/wm-packages/pikabar/src/branch/main/pikabar/usr/share/pikabar)
- [soramanew/rainingkurukuru](https://github.com/soramanew/rainingkuru)
- [outfoxxed/nixnew](https://git.outfoxxed.me/outfoxxed/nixnew/src/branch/master/modules/user/modules/quickshell)
- one unmentioned individual that did not return
- and other homies in `#rice-discussion` of Hyprland discord

## Licensing
All code in this repository is under the MIT license unless wherever an
explicit licensing is included.
